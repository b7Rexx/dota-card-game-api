{"version":3,"sources":["../../src/validators/heroTypeValidator.js"],"names":["schema","Joi","object","name","string","label","max","required","key","min","heroTypeValidator","req","res","next","body","then","catch","err","findHeroType","heroTypeRepository","getById","params","id"],"mappings":";;;;;;;;AAAA;;AAEA;;AACA;;;;AAEA;AACA,MAAMA,MAAM,GAAGC,aAAIC,MAAJ,CAAW;AACxBC,EAAAA,IAAI,EAAEF,aAAIG,MAAJ,GAAaC,KAAb,CAAmB,MAAnB,EAA2BC,GAA3B,CAA+B,GAA/B,EAAoCC,QAApC,EADkB;AAExBC,EAAAA,GAAG,EAAEP,aAAIG,MAAJ,GAAaC,KAAb,CAAmB,KAAnB,EAA0BI,GAA1B,CAA8B,CAA9B,EAAiCH,GAAjC,CAAqC,EAArC,EAAyCC,QAAzC;AAFmB,CAAX,CAAf;AAKA;;;;;;;;;;AAQA,SAASG,iBAAT,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C;AACzC,SAAO,uBAASF,GAAG,CAACG,IAAb,EAAmBd,MAAnB,EACJe,IADI,CACC,MAAMF,IAAI,EADX,EAEJG,KAFI,CAEGC,GAAD,IAASJ,IAAI,CAACI,GAAD,CAFf,CAAP;AAGD;AAED;;;;;;;;;;AAQA,SAASC,YAAT,CAAsBP,GAAtB,EAA2BC,GAA3B,EAAgCC,IAAhC,EAAsC;AACpC,SAAOM,4BACJC,OADI,CACIT,GAAG,CAACU,MAAJ,CAAWC,EADf,EAEJP,IAFI,CAEC,MAAMF,IAAI,EAFX,EAGJG,KAHI,CAGGC,GAAD,IAASJ,IAAI,CAACI,GAAD,CAHf,CAAP;AAID","sourcesContent":["import Joi from '@hapi/joi';\n\nimport validate from '../utils/validate';\nimport heroTypeRepository from '../repositories/heroTypeRepository';\n\n// Validation schema\nconst schema = Joi.object({\n  name: Joi.string().label('Name').max(255).required(),\n  key: Joi.string().label('Key').min(3).max(16).required(),\n});\n\n/**\n * Validate create/update heroType request.\n *\n * @param   {Object}   req\n * @param   {Object}   res\n * @param   {Function} next\n * @returns {Promise}\n */\nfunction heroTypeValidator(req, res, next) {\n  return validate(req.body, schema)\n    .then(() => next())\n    .catch((err) => next(err));\n}\n\n/**\n * Validate heroTypes existence.\n *\n * @param   {Object}   req\n * @param   {Object}   res\n * @param   {Function} next\n * @returns {Promise}\n */\nfunction findHeroType(req, res, next) {\n  return heroTypeRepository\n    .getById(req.params.id)\n    .then(() => next())\n    .catch((err) => next(err));\n}\n\nexport { findHeroType, heroTypeValidator };\n"],"file":"heroTypeValidator.js"}